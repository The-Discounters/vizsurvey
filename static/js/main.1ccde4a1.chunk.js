(this.webpackJsonpvizsurvey=this.webpackJsonpvizsurvey||[]).push([[0],{158:function(t,e,n){},159:function(t,e,n){},167:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(33),o=n.n(r),c=n(64),s=n(2),l=n(30),u=n(12),h=n.n(u),d=n(57),m=n(7),b=n(34),p=n(3),j='treatment_id,position,view_type,interaction,variable_amount,amount_earlier,time_earlier,date_earlier,amount_later,time_later,date_later,max_amount,max_time,horizontal_pixels,vertical_pixels,left_margin_width_in,bottom_margin_height_in,graph_width_in,graph_height_in,width_in,height_in,comment\n1,1,word,none,none,500,2,,1000,5,,,10,,,,,,,4,4,Worded MEL question with no interaction and Read 2001 example values.\n1,2,word,none,none,50,2,,300,7,,,10,,,,,,,8,8,Worded MEL question with no interaction and Read 2001 example values.\n1,3,word,none,none,250,2,,1000,3,,,10,,,,,,,8,8,Worded MEL question with no interaction and Read 2001 example values.\n2,1,barchart,none,none,300,2,,700,5,,1100,10,100,100,0.5,0.5,8,8,8.5,8.5,Barchart MEL question with no interaction.\n2,2,barchart,none,none,500,2,,800,7,,1100,15,100,100,0.5,0.5,8,8,8.5,8.5,Barchart MEL question with no interaction.\n2,3,barchart,none,none,300,2,,1000,7,,1100,15,100,100,0.5,0.5,4,4,4.5,4.5,Barchart MEL question with no interaction.\n3,1,calendarBar,none,none,300,,2/1/22,700,,2/22/22,1100,,100,100,,,,,8,8,Calendar MEL question with barchart and no interaction.\n3,2,calendarBar,none,none,500,,3/1/22,800,,3/12/22,1100,,100,100,,,,,8,8,Calendar MEL question with barchart and no interaction.\n3,3,calendarBar,none,none,300,,4/1/22,1000,,4/15/22,1100,,100,100,,,,,8,8,Calendar MEL question with barchart and no interaction.\n4,1,barchart,drag,laterAmount,500,2,,1000,10,,1500,10,100,100,0.5,0.5,8,8,8.5,8.5,Barchart MEL question with drag interaction.\n5,1,calendar,drag,laterAmount,500,,2/1/22,1000,,2/22/22,1100,,100,100,,,,,8,8,"Read 2001 example, absolute size"\n6,1,word,titration,laterAmount,500,2,,1000,3,,,10,,,,,,,8,8,Word MEL question with titration interaction.\n7,1,barchart,titration,laterAmount,500,2,,1000,10,,1500,10,100,100,0.5,0.5,8,8,8.5,8.5,Barchat MEL question with titration interaction.\n8,1,calendarBar,titration,laterAmount,500,,2/1/22,1000,,2/22/22,1100,,100,100,,,,,8,8,Calendar MEL question with barchart and titration interaction.\n9,1,calendarWord,titration,laterAmount,500,,2/1/22,1000,,2/22/22,1100,,100,100,,,,,8,8,Calendar MEL question with word and titration interaction.\n10,1,calendarDrag,titration,laterAmount,500,,2/1/22,1000,,2/22/22,1100,,100,100,,,,,8,8,Calendar MEL question with barchart and drag interaction.\n',v=function t(e){var n=e.treatmentId,i=e.position,a=e.viewType,r=e.interaction,o=e.variableAmount,c=e.amountEarlier,s=e.timeEarlier,l=e.dateEarlier,u=e.amountLater,h=e.timeLater,d=e.dateLater,b=e.maxAmount,p=e.maxTime,j=e.horizontalPixels,v=e.verticalPixels,w=e.leftMarginWidthIn,f=e.bottomMarginHeightIn,g=e.graphWidthIn,x=e.graphHeightIn,y=e.widthIn,O=e.heightIn,_=e.comment;Object(m.a)(this,t),this.treatmentId=n,this.position=i,this.viewType=a,this.interaction=r,this.variableAmount=o,this.amountEarlier=c,this.timeEarlier=s,this.dateEarlier=l,this.amountLater=u,this.timeLater=h,this.dateLater=d,this.maxAmount=b,this.maxTime=p,this.horizontalPixels=j,this.verticalPixels=v,this.leftMarginWidthIn=w,this.bottomMarginHeightIn=f,this.graphWidthIn=g,this.graphHeightIn=x,this.widthIn=y,this.heightIn=O,this.comment=_,this.highup=null,this.lowdown=null},w=n(24),f=n(26),g=n(25),x=function(t){Object(w.a)(n,t);var e=Object(f.a)(n);function n(){return Object(m.a)(this,n),e.apply(this,arguments)}return n}(g.Enumify);x.word=new x,x.barchart=new x,x.calendarGraph=new x,x.calendarWord=new x,x.calendarIcon=new x,x._=x.closeEnum();var y=function(t){Object(w.a)(n,t);var e=Object(f.a)(n);function n(){return Object(m.a)(this,n),e.apply(this,arguments)}return n}(g.Enumify);y.none=new y,y.drag=new y,y.titration=new y,y._=y.closeEnum();var O=function(t){Object(w.a)(n,t);var e=Object(f.a)(n);function n(){return Object(m.a)(this,n),e.apply(this,arguments)}return n}(g.Enumify);O.none=new O,O.earlierAmount=new O,O.laterAmount=new O,O._=O.closeEnum();var _=function(){function t(){var e=this;Object(m.a)(this,t),this.loadAllTreatments=function(){return Object(p.c)(j,(function(t){return e.fromCSVRow(t)})).sort((function(t,e){return t.position<e.position?-1:t.position===e.position?0:1}))},this.fetchQuestions=function(t){return t=+t,Object(p.c)(j,(function(t){return e.fromCSVRow(t)})).filter((function(e){return e.treatmentId===t})).sort((function(t,e){return t.position<e.position?-1:t.position===e.position?0:1}))},this.writeAnswers=function(){var t=Object(d.a)(h.a.mark((function t(e,n){var i,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.getState,a=i(),console.log(e),console.log(JSON.stringify(a));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}return Object(b.a)(t,[{key:"fromCSVRow",value:function(t){return new v({treatmentId:+t.treatment_id,position:+t.position,viewType:x.enumValueOf(t.view_type),interaction:y.enumValueOf(t.interaction),variableAmount:O.enumValueOf(t.variable_amount),amountEarlier:+t.amount_earlier,timeEarlier:t.time_earlier?+t.time_earlier:void 0,dateEarlier:t.date_earlier?new Date(t.date_earlier):void 0,amountLater:+t.amount_later,timeLater:t.time_later?+t.time_later:void 0,dateLater:t.date_later?new Date(t.date_later):void 0,maxAmount:+t.max_amount,maxTime:+t.max_time,horizontalPixels:+t.horizontal_pixels,verticalPixels:+t.vertical_pixels,leftMarginWidthIn:+t.left_margin_width_in,bottomMarginHeightIn:+t.bottom_margin_height_in,graphWidthIn:+t.graph_width_in,graphHeightIn:+t.graph_height_in,widthIn:+t.width_in,heightIn:+t.height_in,comment:t.comment})}},{key:"convertToCSV",value:function(t){var e=t.map((function(t){return"".concat(t.treatmentId,",").concat(t.position,",").concat(t.viewType,",").concat(t.interaction,",").concat(t.variableAmount,",").concat(t.amountEarlier,",").concat(t.timeEarlier,",").concat(t.dateEarlier,",").concat(t.amountLater,",").concat(t.timeLater,",").concat(t.dateLater,",").concat(t.maxAmount,",").concat(t.maxTime,",").concat(t.verticalPixels,",").concat(t.horizontalPixels,",").concat(t.leftMarginWidthIn,",").concat(t.bottomMarginHeightIn,",").concat(t.graphWidthIn,",").concat(t.graphHeightIn,",").concat(t.widthIn,",").concat(t.heightIn,",").concat(t.choice,",").concat(t.shownTimestamp,",").concat(t.choiceTimestamp,",").concat(t.highup,",").concat(t.lowdown,",").concat(t.participantCode)}));return["treatment_id,position,view_type,interaction,variable_amount,amount_earlier,time_earlier,date_earlier,amount_later,time_later,date_later,max_amount,max_time,vertical_pixels,horizontal_pixels,left_margin_width_in,bottom_margin_height_in,graph_width_in,graph_height_in,width_in,height_in,choice,shown_timestamp,choice_timestamp,highup,lowdown,participant_code"].concat(e).join("\n")}}]),t}(),A="Unitialized",I="Fetched",T="Complete",L={unitialized:"unitialized",earlier:"earlier",later:"later"},E=function t(e){var n=e.treatmentId,i=e.position,a=e.viewType,r=e.interaction,o=e.variableAmount,c=e.amountEarlier,s=e.timeEarlier,l=e.dateEarlier,u=e.amountLater,h=e.timeLater,d=e.dateLater,b=e.maxAmount,p=e.maxTime,j=e.verticalPixels,v=e.horizontalPixels,w=e.leftMarginWidthIn,f=e.bottomMarginHeightIn,g=e.graphWidthIn,x=e.graphHeightIn,y=e.widthIn,O=e.heightIn,_=e.choice,A=e.shownTimestamp,I=e.choiceTimestamp,T=e.highup,L=e.lowdown,E=e.participantCode;Object(m.a)(this,t),this.treatmentId=n,this.position=i,this.viewType=a,this.interaction=r,this.variableAmount=o,this.amountEarlier=c,this.timeEarlier=s,this.dateEarlier=l,this.amountLater=u,this.timeLater=h,this.dateLater=d,this.maxAmount=b,this.maxTime=p,this.verticalPixels=j,this.horizontalPixels=v,this.leftMarginWidthIn=w,this.bottomMarginHeightIn=f,this.graphWidthIn=g,this.graphHeightIn=x,this.widthIn=y,this.heightIn=O,this.choice=_,this.shownTimestamp=A,this.choiceTimestamp=I,this.highup=T,this.lowdown=L,this.participantCode=E},k=new(function(){function t(){Object(m.a)(this,t)}return Object(b.a)(t,[{key:"currentTreatment",value:function(t){return t.treatments[t.currentQuestionIdx]}},{key:"currentTreatmentAndLatestAnswer",value:function(t){return{treatment:this.currentTreatment(t),latestAnswer:this.latestAnswer(t)}}},{key:"latestAnswer",value:function(t){return 0===t.answers.length?null:t.answers[t.answers.length-1]}},{key:"createNextAnswer",value:function(t,e,n,i,a,r){var o=new E({treatmentId:t.treatmentId,position:t.position,viewType:t.viewType,interaction:t.interaction,variableAmount:t.variableAmount,amountEarlier:n,timeEarlier:t.timeEarlier,dateEarlier:t.dateEarlier,amountLater:i,timeLater:t.timeLater,dateLater:t.dateLater,maxAmount:t.maxAmount,maxTime:t.maxTime,verticalPixels:t.verticalPixels,horizontalPixels:t.horizontalPixels,leftMarginWidthIn:t.leftMarginWidthIn,bottomMarginHeightIn:t.bottomMarginHeightIn,graphWidthIn:t.graphWidthIn,graphHeightIn:t.graphHeightIn,widthIn:t.widthIn,heightIn:t.heightIn,choice:L.unitialized,highup:a,lowdown:r});e.push(o)}},{key:"allQuestions",value:function(t){return t.answers}},{key:"startSurvey",value:function(t){t.currentQuestionIdx=0;var e=this.currentTreatment(t);t.highup=e.variableAmount===O.laterAmount?e.amountEarlier:e.amountLater,t.lowdown=void 0,this.createNextAnswer(e,t.answers,e.amountEarlier,e.amountLater,t.highup,t.lowdown)}},{key:"setLatestAnswerShown",value:function(t,e){this.latestAnswer(t).shownTimestamp=e.payload}},{key:"isLastTreatment",value:function(t){return t.currentQuestionIdx===t.treatments.length-1}},{key:"incNextQuestion",value:function(t){if(this.isLastTreatment(t))t.status=T;else{t.currentQuestionIdx+=1;var e=this.currentTreatment(t);this.createNextAnswer(e,t.answers,e.amountEarlier,e.amountLater)}}},{key:"updateHighupOrLowdown",value:function(t){var e=this.currentTreatmentAndLatestAnswer(t),n=e.treatment,i=e.latestAnswer;switch(i.choice){case L.earlier:var a=n.variableAmount===O.laterAmount?i.amountLater:i.amountEarlier;(!t.highup||a>t.highup)&&(t.highup=a);break;case L.later:var r=n.variableAmount===O.laterAmount?i.amountLater:i.amountEarlier;(!t.lowdown||r<t.lowdown)&&(t.lowdown=r);break;default:console.assert(!0,"Invalid value for current answer in setAnswerCurrentQuestion")}}},{key:"calcTitrationAmount",value:function(t,e,n){return(n||t-e)/2}},{key:"calcNewAmount",value:function(t,e){var n,i=this.currentTreatmentAndLatestAnswer(t),a=i.treatment,r=i.latestAnswer;switch(a.variableAmount){case O.laterAmount:return console.assert(r.choice&&r.choice!==L.unitialized),n=r.choice===L.earlier?e:-1*e,10*parseInt((r.amountLater+n)/10);case O.earlierAmount:return n=r.choice===L.earlier?-1*e:e,10*parseInt((r.amountEarlier+n)/10);default:console.assert(!0,"Invalid value for question titration type in calcEarlierAndLaterAmounts")}}},{key:"answerCurrentQuestion",value:function(t,e){var n=this.currentTreatmentAndLatestAnswer(t),i=n.treatment,a=n.latestAnswer;if(a.choice=e.payload.choice,a.choiceTimestamp=e.payload.choiceTimestamp.toFormat("MM/dd/yyyy H:mm:ss:SSS ZZZZ"),i.interaction===y.none||i.interaction===y.drag)this.incNextQuestion(t);else if(i.interaction===y.titration){var r=this.calcTitrationAmount(i.variableAmount===O.laterAmount?a.amountLater:a.amountEarlier,t.highup,1===a.length?t.highup:null);if(this.updateHighupOrLowdown(t),t.lowdown-t.highup<=10)this.incNextQuestion(t);else{var o=this.calcNewAmount(t,r);i.variableAmount===O.laterAmount?this.createNextAnswer(i,t.answers,i.amountEarlier,o):i.variableAmount===O.earlierAmount?this.createNextAnswer(i,t.answers,o,i.amountLater):console.assert(!0,"Titration not set to amountEarlier or amountLater before calling answerCurrentQuestion")}}}}]),t}()),z=new _,M=Object(l.b)("survey/writeAnswers",z.writeAnswers),S=Object(l.c)({name:"questions",initialState:{allTreatments:null,treatmentId:null,participantId:null,treatments:[],answers:[],currentQuestionIdx:0,highup:void 0,lowdown:void 0,status:A,fetchAllTreatmentsStatus:A,error:null},reducers:{setParticipant:function(t,e){return t.participantId=e.payload,t},setTreatmentId:function(t,e){return t.treatmentId=e.payload,t},fetchQuestions:function(t){return t.treatments=z.fetchQuestions(t.treatmentId),t.status=I,t},loadAllTreatments:function(t){t.allTreatments=z.loadAllTreatments(),t.fetchAllTreatmentsStatus=I},startSurvey:function(t){return k.startSurvey(t),t},setQuestionShownTimestamp:function(t,e){return k.setLatestAnswerShown(t,e),t},answer:function(t,e){k.answerCurrentQuestion(t,e)}}}),C=function(t){return k.allQuestions(t.questions)},P=function(t){return k.currentTreatment(t.questions)},q=function(t){return t.questions.allTreatments},W=function(t){return k.latestAnswer(t.questions)},H=function(t){return t.questions.status},D=function(t){return t.questions.fetchAllTreatmentsStatus},Q=function(t){return t.questions.treatmentId},R=S.actions,N=R.fetchQuestions,B=R.loadAllTreatments,F=R.startSurvey,V=R.setQuestionShownTimestamp,J=R.answer,$=R.setParticipant,U=R.setTreatmentId,Z=S.reducer,G=Object(l.a)({reducer:{questions:Z},middleware:function(t){return t()}}),Y=(n(158),n(6)),K=n(4),X=n(31),tt=n(170),et=n(169),nt=(n(159),n(14)),it=n(15),at=n(1);var rt=function(){var t=Object(s.b)(),e=Object(s.c)(W),n=Object(s.c)(H),i=window.devicePixelRatio>=2?132:96;function a(){return"$".concat(e.amountEarlier," ").concat(0===(t=e.timeEarlier)?"today":"in ".concat(t," weeks"));var t}function r(){return"$".concat(e.amountLater," in ").concat(e.timeLater," weeks")}var o=Object(at.jsx)("div",{width:"".concat(Math.round(e.widthIn*i),"px"),height:"".concat(Math.round(e.heightIn*i),"px"),overflow:"hidden",children:Object(at.jsx)(it.d,{initialValues:{choice:L.unitialized},validate:function(t){var e={};return t.choice&&t.choice!==L.unitialized||(e.choice="Please choose a selection to continue."),e},onSubmit:function(e,n){var i=n.setSubmitting,a=n.resetForm;setTimeout((function(){t(J({choice:e.choice,choiceTimestamp:nt.DateTime.now()})),i(!1),a()}),400)},children:function(t){var e=t.isSubmitting;return Object(at.jsxs)(it.c,{children:[Object(at.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",className:"radio-choice-label",children:[Object(at.jsxs)("p",{children:["Make a choice to received ".concat(a()," or ").concat(r())," "]}),Object(at.jsxs)("label",{children:[Object(at.jsx)(it.b,{type:"radio",name:"choice",value:L.earlier}),"\xa0",a()]}),Object(at.jsx)("br",{}),Object(at.jsxs)("label",{children:[Object(at.jsx)(it.b,{type:"radio",name:"choice",value:L.later}),"\xa0",r()]}),Object(at.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:Object(at.jsx)(it.a,{name:"choice",component:"div"})})]}),Object(at.jsx)(et.a,{type:"submit",disabled:e,children:"Submit"})]})}})});return n===T?Object(at.jsx)(K.a,{to:"/vizsurvey/thankyou"}):(t(V(Date.now())),o)},ot=function(t,e){var n=a.a.useRef();return a.a.useEffect((function(){return t(p.h(n.current)),function(){}}),e),n};var ct=function(){var t=Object(s.b)(),e=Object(s.c)(W),n=Object(s.c)(H),i=Math.min(window.screen.height,window.screen.width),a=i,r=i,o=e.leftMarginWidthIn,c=e.bottomMarginHeightIn,l=e.graphWidthIn,u=e.graphHeightIn,h=o+l,d=c+u,m=a/h,b=m*o,j=a-b,v=r-r/d*c,w=.1*m,f=window.devicePixelRatio>=2?1.375:1;console.log("".concat(a,",").concat(r,",").concat(f)),console.log("".concat(o,",").concat(c,",").concat(l,",").concat(u)),console.log("".concat(h,",").concat(d));var g=Array.from(Array(e.maxTime+1).keys()),x=g.map((function(t){return t===e.timeEarlier?{time:t,amount:e.amountEarlier,barType:O.earlierAmount}:t===e.timeLater?{time:t,amount:e.amountLater,barType:O.laterAmount}:{time:t,amount:0,barType:O.none}})),_=Object(at.jsxs)("div",{children:[Object(at.jsx)("svg",{width:"".concat(h*f,"in"),height:"".concat(d*f,"in"),viewBox:"0 0 ".concat(a," ").concat(r),ref:ot((function(n){var i=n.selectAll(".plot-area").data([null]).join("g").attr("class","plot-area"),a=Object(p.g)().domain([0,e.maxTime]).range([0,j]),r=[0,e.maxAmount],o=Object(p.g)().domain(r).range([v,0]);i.selectAll(".x-axis").data([null]).join("g").attr("transform","translate(".concat(b,",").concat(v,")")).attr("class","x-axis").call(Object(p.a)(a).tickValues(g).tickFormat(Object(p.e)(",.0f")));var c=Object(p.f)(r[0],r[1],r[1]/5);c.push(r[1]),i.selectAll(".y-axis").data([null]).join("g").attr("class","y-axis").attr("transform","translate(".concat(b,",0)")).call(Object(p.b)(o).tickValues(c).tickFormat(Object(p.e)("$,.0f"))),i.selectAll(".bar").data(x).join("rect").attr("id",(function(t){return"id"+t.time})).attr("fill","steelblue").attr("class","bar").attr("x",(function(t){return a(t.time)-w/2})).attr("y",(function(t){return o(t.amount)})).attr("width",w).attr("height",(function(t){return o(0)-o(t.amount)})).on("click",(function(n){e.interaction!==y.titration&&e.interaction!==y.none||(n.target.__data__.amount===e.amountEarlier?t(J({choice:L.earlier,choiceTimestamp:nt.DateTime.now()})):n.target.__data__.amount===e.amountLater&&t(J({choice:L.later,choiceTimestamp:nt.DateTime.now()})))})),Object(p.d)().on("drag",(function(t){e.interaction===y.drag&&t.subject.barType===e.variableAmount&&Object(p.h)(this).attr("y",t.y).attr("height",o(0)-t.y)}))(i.selectAll(".bar"))}),[e])}),e.interaction===y.drag?Object(at.jsx)(it.d,{initialValues:{choice:L.Unitialized},validate:function(){return{}},onSubmit:function(e,n){var i=n.setSubmitting,a=n.resetForm;setTimeout((function(){t(J({choice:L.earlier,choiceTimestamp:nt.DateTime.now()})),i(!1),a()}),400)},children:function(t){var e=t.isSubmitting;return Object(at.jsx)(it.c,{children:Object(at.jsx)(et.a,{type:"submit",disabled:e,children:"Submit"})})}}):""]});return n===T?Object(at.jsx)(K.a,{to:"/vizsurvey/thankyou"}):(t(V(Date.now())),_)},st=n(164);var lt=function(){var t=Object(s.b)(),e=Object(s.c)(W),n=Object(s.c)(H),i=st(e.dateEarlier),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.dateEarlier.getMonth()],r=window.devicePixelRatio>=2?132:96,o=Math.min(e.heightIn/i.length,e.widthIn/7),c=Math.round(o*r),l=Object(at.jsxs)("div",{children:[Object(at.jsx)("h2",{children:a}),Object(at.jsx)("table",{id:"calendar",style:{borderCollapse:"collapse",tableLayout:"fixed"},ref:ot((function(n){n.html("<thead>\n                <tr>\n                    <td style='text-align: center;'>Sunday</td>\n                    <td style='text-align: center;'>Monday</td>\n                    <td style='text-align: center;'>Tuesday</td>\n                    <td style='text-align: center;'>Wednesday</td>\n                    <td style='text-align: center;'>Thursday</td>\n                    <td style='text-align: center;'>Friday</td>\n                    <td style='text-align: center;'>Saturday</td>\n                </tr>\n            </thead>\n            <tbody id='calendarBody'></tbody>");var a=Object(p.h)("#calendar").select("#calendarBody").selectAll("tbody").data(i).join("tr"),r=e.dateEarlier.getDate(),o=e.dateLater.getDate(),s=[0,e.maxAmount];a.selectAll("td").data((function(t){return t})).join("td").attr("id",(function(t){return t===r?"day-earlier-amount":t===o?"day-later-amount":"day-"+t})).attr("class",(function(t){return t>0?"day":"day-empty"})).attr("width",(function(){return c})).attr("height",(function(){return c})).attr("style",(function(t){return t>0?"border: 1px solid black; text-align: right; vertical-align: top; position: relative; overflow: hidden; white-space: nowrap;":"border: none;"})).on("click",(function(n){e.interaction!==y.titration&&e.interaction!==y.none||(n.target.__data__===r?t(J({choice:L.earlier,choiceTimestamp:nt.DateTime.now()})):n.target.__data__===o&&t(J({choice:L.later,choiceTimestamp:nt.DateTime.now()})))})).each((function(t){if(!(t<0)){var n=Object(p.h)(this).append("div").attr("style","text-align: center").attr("width",c);if(n.append("div").attr("style","float: right").text((function(t){return t>0?t:""})),t===r||t===o){if(n.append("div").attr("style","text-align: center; font-weight: bold;").text((function(){return Object(p.e)("$,.0f")(t===r?e.amountEarlier:e.amountLater)})),e.viewType===x.calendarWord)return;var i=c-Object(p.h)(this).select("div").node().offsetHeight,a=Object(p.g)().domain(s).range([i,0]),l=Object(p.h)(this).append("svg").attr("id",(function(t){})).attr("x","0 ").attr("y","0").attr("width",(function(){return c})).attr("height",(function(){return i})).attr("style","text-align: left");l.append("line").attr("x1","0").attr("y1",a(e.maxAmount)).attr("x2",c).attr("y2",a(e.maxAmount)).attr("style","stroke:black;stroke-width:1"),l.append("rect").attr("fill","steelblue").attr("class","bar").attr("x","0").attr("y",(function(){return a(t===r?e.amountEarlier:e.amountLater)})).attr("width",(function(){})).attr("height",(function(){return a(0)-a(t===r?e.amountEarlier:e.amountLater)})).attr("width",c)}}}))}),[e])})]});return n===T?Object(at.jsx)(K.a,{to:"/vizsurvey/thankyou"}):(t(V(Date.now())),l)};var ut=function(){var t=Object(s.c)(W);return Object(at.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)"},children:t.viewType===x.barchart?Object(at.jsx)(ct,{}):t.viewType===x.word?Object(at.jsx)(rt,{}):Object(at.jsx)(lt,{})})};function ht(){var t=Object(s.b)(),e=Object(K.g)().search,n=new URLSearchParams(e).get("treatment_id");return t(U(n)),""}var dt=function(){return Object(at.jsx)("div",{children:Object(at.jsx)(Y.a,{children:Object(at.jsxs)("div",{className:"App",children:[Object(at.jsx)(ht,{}),Object(at.jsxs)(K.d,{children:[Object(at.jsx)(K.b,{exact:!0,path:"/vizsurvey",component:mt}),Object(at.jsx)(K.b,{exact:!0,path:"/vizsurvey/instructions",component:jt}),Object(at.jsx)(K.b,{path:"/vizsurvey/survey",component:ut}),Object(at.jsx)(K.b,{path:"/vizsurvey/thankyou",component:wt}),Object(at.jsx)(K.b,{path:"/vizsurvey/*",component:mt})]})]})})})},mt=function(){var t=Object(s.c)(Q);Object(s.b)()(B());var e=Object(s.c)(D),n=Object(s.c)(q);return Object(at.jsx)("div",{id:"home-text",children:null===t?Object(at.jsxs)("div",{children:[Object(at.jsx)("p",{children:"This page will not be available when deployed in production since the participants will be provided a link with the treatment id in the URL."}),e===A?Object(at.jsx)("p",{children:"Please wait while all treatments are loaded..."}):Object(at.jsxs)("p",{children:[Object(at.jsx)("a",{href:"https://github.com/pcordone/vizsurvey",children:"Github README.md"}),Object(at.jsx)("br",{}),Object(at.jsx)("a",{href:"https://github.com/pcordone",children:"public website"}),Object(at.jsx)("br",{}),Object(at.jsx)("p",{children:"Click a link below to launch one of the experiments. The experimental parameters are not setup yet and are configurable through a file. Right now these links give a feel for what each type of stimulus is like."}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"1",to:"/vizsurvey/instructions?treatment_id=1",children:n.filter((function(t){return 1===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"2",to:"/vizsurvey/instructions?treatment_id=2",children:n.filter((function(t){return 2===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"3",to:"/vizsurvey/instructions?treatment_id=3",children:n.filter((function(t){return 3===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"4",to:"/vizsurvey/instructions?treatment_id=4",children:n.filter((function(t){return 4===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"5",to:"/vizsurvey/instructions?treatment_id=5",children:n.filter((function(t){return 5===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"6",to:"/vizsurvey/instructions?treatment_id=6",children:n.filter((function(t){return 6===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"7",to:"/vizsurvey/instructions?treatment_id=7",children:n.filter((function(t){return 7===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"8",to:"/vizsurvey/instructions?treatment_id=8",children:n.filter((function(t){return 8===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"9",to:"/vizsurvey/instructions?treatment_id=9",children:n.filter((function(t){return 9===t.treatmentId&&1===t.position}))[0].comment})}),Object(at.jsx)("p",{children:Object(at.jsx)(Y.b,{id:"10",to:"/vizsurvey/instructions?treatment_id=10",children:n.filter((function(t){return 10===t.treatmentId&&1===t.position}))[0].comment})})]})]}):Object(at.jsx)(K.a,{to:"/vizsurvey/instructions?treatment_id=".concat(t)})})},bt={position:"absolute",top:"50%",left:"50%",width:"500px",marginRight:"-50%",transform:"translate(-50%, -50%)"},pt={position:"absolute",left:"50%",marginRight:"-50%",transform:"translate(-50%, 0%)"},jt=function(){var t=Object(X.b)(),e=Object(s.b)();e(N());var n=Object(s.c)(P);return Object(at.jsxs)("div",{id:"home-text",style:bt,children:[Object(at.jsx)("p",{children:"You will be presented with a choice between two amounts of money to recieve, one earlier and one later in time."}),Object(at.jsx)("span",{children:function(){switch(n.viewType){case x.word:return"Click on the radio button that contains the amount you would like to\n                    receive.";case x.barchart:switch(n.interaction){case y.titration:return"Click on the bar that represents the amount that you would like to\n                        receive.  For each click, the amounts will be updated. Continue to\n                        click to choose an earlier and later amount.";case y.drag:return"Drag the bar to an amount that makes choosing the earlier option\n                        equal to the later option. Note that these amounts do not have to\n                        be literally equal dollar amounts (e.g. you would rather have $10\n                        today than even $20 a year from now).";case y.none:return"Click on the bar graph that represents the amount that you would\n                        like to choose.";default:return"Can not display <b>specific</b> instructions since the interaction \n                        type was not specified in the experiment setup/"}case x.calendarGraph:return"Click on the day that contains the amount that you would like to\n                    receive.";case x.calendarWord:return"Provide calendar word instructions";case x.calendarIcon:return"Provide calendar icon grap instructions";default:return"Cannot display <b>specific</b> instructions since a treatment has not\n                    been selected. Please select a treatment"}}()}),Object(at.jsx)(X.a,{handle:t,children:Object(at.jsx)(Y.b,{to:"/vizsurvey/survey",children:Object(at.jsx)(et.a,{size:"lg",onClick:function(){e(F()),t.enter()},style:pt,children:"Start Survey"})})})]})},vt=Object(tt.a)(),wt=function(){var t=Object(s.b)();t($(vt));var e=Object(s.c)(C),n=(new _).convertToCSV(e);t(M(n));var i=Object(X.b)();return Object(at.jsx)(X.a,{handle:i,children:Object(at.jsxs)("div",{id:"home-text",style:bt,children:[Object(at.jsx)("p",{children:"Your answers have been submitted. Thank you for taking this survey!"}),Object(at.jsxs)("p",{children:["Your unique ID is:\xa0",Object(at.jsx)("input",{type:"text",value:vt,style:{width:"340px"},readOnly:!0}),"\xa0",Object(at.jsx)(et.a,{size:"sm",onClick:function(){navigator.clipboard.writeText(vt)},children:"Copy"}),". Please go back to Amazon Turk and present this unique ID in the form."]}),Object(at.jsx)(et.a,{size:"lg",onClick:function(){i.enter(),setTimeout((function(){i.exit()}),400)},style:pt,children:"Exit Fullscreen"})]})})},ft=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,171)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),i(t),a(t),r(t),o(t)}))};Object(c.a)(),o.a.render(Object(at.jsx)(a.a.StrictMode,{children:Object(at.jsx)(s.a,{store:G,children:Object(at.jsx)(dt,{})})}),document.getElementById("root")),ft()}},[[167,1,2]]]);
//# sourceMappingURL=main.1ccde4a1.chunk.js.map